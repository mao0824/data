# MYSQL同一事务中先更新再查询，查询结果与数据库不一致

在数据库事务是指作为单个逻辑工作单元执行的一系列操作,要么完全地执行,要么完全地不执行，这是一种机制，用以维护数据库的完整性。在你这个事务单元中存在两个操作，一个是update，一个是select；你前面的update执行成功了，再执行select肯定能够查询到前面update的数据，因为你是在一个单元中。但是另外一个事务（即另一个单元）则不能select到这个update的数据，因为你update的数据还没提交，只在该单元中有效;

注意:此处要与脏读区分开,脏读所指的读到了未提交的数据(这是两个事务操作,而本文的问题前提是在同一个事务中)。也就是说，一个事务正在对一条记录做修改，在这个事务完成并提交之前，这条数据是处于待定状态的（可能提交也可能回滚），这时，第二个事务来读取这条没有提交的数据，并据此做进一步的处理，就会产生未提交的数据依赖关系。这种现象被称为脏读。